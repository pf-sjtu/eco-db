<div id="graphDataSearchBox" class="searchBox">
    <div class="box">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                区间
            </i-col>
            <i-col span="19" offset="1">
                <label for="dtGBeg">起始</label>
                <input type="datetime-local" id="dtGBeg" v-model="dtBegStr" required/>
            </i-col>
        </Row>
        <Row type="flex" justify="start">
            <i-col :xs="{offset:5}" :lg="{offset:3}" span="20">
                <label for="dtGEnd">结束</label>
                <input type="datetime-local" id="dtGEnd" v-model="dtEndStr" required/>
            </i-col>
        </Row>
    </div>
    <div class="box">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                站点
            </i-col>
            <i-col span="19" offset="1">
                <Checkbox-Group v-model="selectedStations">
                    <Checkbox v-for="(station, index) in stations"
                    :key="index"
                    :label="index">{{ station.station_name2 }}</Checkbox>
                </Checkbox-Group>
            </i-col>
        </Row>
    </div>
    <div class="box" v-if="selectedStations.length">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                筛选
            </i-col>
            <i-col :xs="{span:3}" :lg="{span:2}" offset="1">
                <input type="radio" name="mode" value="0" v-model="setMode"/>并集
            </i-col>
            <i-col :xs="{span:3,offset:1}" :lg="{span:2}">
                <input type="radio" name="mode" value="1" v-model="setMode"/>交集
            </i-col>
        </Row>
    </div>
    <div class="box" v-if="selectedStations.length">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                数据列
            </i-col>
            <i-col span="19" offset="1">
                <Row type="flex" justify="start">
                    <template v-for="colSet in colSets">
                        <button @click="colKeySelected=colSet.set" class="button">{{ colSet.title }}</button>
                    </template>
                </Row>
                <Row type="flex" justify="start">
                    <button @click="colMenuOpen=true" class="button"><Icon type="ios-menu"></Icon>自定义列</button>
                    <Drawer title="自定义列" :closable="true" :width="colMenuWidth" v-model="colMenuOpen" placement="right">
                        <div class="box">
                            <Row type="flex" justify="start">
                                <i-col>
                                    筛选
                                </i-col>
                                <i-col :xs="{span:4}" :lg="{span:2}" offset="1">
                                    <input type="radio" name="mode" value="0" v-model="setMode"/>并集
                                </i-col>
                                <i-col :xs="{span:4,offset:1}" :lg="{span:2}">
                                    <input type="radio" name="mode" value="1" v-model="setMode"/>交集
                                </i-col>
                            </Row>
                        </div>
                        <div class="box">
                            <Row type="flex" justify="start">
                                <i-col>
                                    预设集合
                                </i-col>
                            </Row>
                            <Row type="flex" justify="start">
                                <i-col offset="1">
                                    <template v-for="colSet in colSets">
                                        <button @click="colKeySelected=colSet.set" class="button">{{ colSet.title }}</button>
                                    </template>
                                </i-col>
                            </Row>
                        </div>
                        <div class="box">
                            <Row type="flex" justify="start">
                                <i-col>
                                    自定义
                                </i-col>
                            </Row>
                            <Checkbox-Group v-model="colKeySelected">
                                <Checkbox v-for="(col, index) in colDisplayArr"
                                :key="index"
                                :label="col.key">{{ col.title }}&nbsp;&nbsp;</Checkbox>
                            </Checkbox-Group>
                        </div>
                    </Drawer>
                </Row>
            </i-col>
        </Row>
    </div>
    <Row type="flex" justify="center" v-if="selectedStations.length">
        <i-col span="20">
            <Divider dashed></Divider>
        </i-col>
    </Row>
    <div class="box" v-if="selectedStations.length">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                项目
            </i-col>
            <i-col :xs="{span:0}" :lg="{span:15,offset:2}">
                项目名
            </i-col>
            <i-col :xs="{offset:15}" :lg="{offset:0}" span="2" class="center">
                x轴
            </i-col>
            <!-- <i-col span="5" class="center">
                范围
            </i-col> -->
            <i-col span="3" class="center">
                倍数
            </i-col>
        </Row>
    </div>
    <div class="box" v-if="selectedStations.length">
        <Row type="flex" justify="center"  v-for="(col, colIndex) in colSelected" :key="colIndex">
            <i-col :xs="{span:0}" :lg="{span:2}"></i-col>
            <i-col :xs="{span:19}" :lg="{span:15,offset:2}">
                {{ col.title }}
            </i-col>
            <i-col span="2" class="center">
                <input type="radio" name="xAxis" :value="colIndex" v-model="xAxis"/>
            </i-col>
            <!-- <i-col span="5" class="center">
                范围
            </i-col> -->
            <i-col span="3" class="center">
                <input type="text" style="width: 100%;" v-model="colRate[colIndex]" :placeholder="defaultColRate" :disabled="xAxis==colIndex"/>
            </i-col>
        </Row>
    </div>
    <div class="box" v-if="selectedStations.length">
        <Row type="flex" justify="start">
            <i-col :xs="{span:4}" :lg="{span:2}" class="bold">
                设置
            </i-col>
            <i-col span="7" offset="1">
                <input type="checkbox" v-model="graphSmooth">图线平滑</input>
            </i-col>
        </Row>
        <Row type="flex" justify="center">
            <button @click="updateGraph" :disabled="colKeySelected.length<2" class="button">生成</button>
        </Row>
    </div>

    <Row type="flex" justify="center" v-if="selectedStations.length">
        <i-col span="20">
            <Divider dashed></Divider>
        </i-col>
    </Row>
    <Row type="flex" justify="center">
        <div id="graphFrame"></div>
    </Row>

</div>

<script type="text/javascript" src="js/graphFrame.js"></script>
